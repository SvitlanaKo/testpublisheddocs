<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Web Services API &#8212; OroCommerce 1.0 documentation</title>
    
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Customizing the Theme" href="../theme/index.html" />
    <link rel="prev" title="How to Replace Inline-Javascript with a Component" href="../extend_and_customize/how_to_replace_inline-javascript_with_component.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="web-services-api">
<h1>Web Services API<a class="headerlink" href="#web-services-api" title="Permalink to this headline">¶</a></h1>
<p>OroCommerce REST API enables developers to integrate Oro functionality into third party software systems.</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#overview" id="id1">Overview</a></li>
<li><a class="reference internal" href="#quick-start" id="id2">Quick Start</a><ul>
<li><a class="reference internal" href="#create-an-api-key" id="id3">Create an API Key</a></li>
<li><a class="reference internal" href="#api-sandbox" id="id4">API Sandbox</a><ul>
<li><a class="reference internal" href="#how-to-use-the-sandbox" id="id5">How to Use the Sandbox</a></li>
</ul>
</li>
<li><a class="reference internal" href="#examples" id="id6">Examples</a><ul>
<li><a class="reference internal" href="#retrieve-a-single-record" id="id7">Retrieve a Single Record</a></li>
<li><a class="reference internal" href="#edit-a-record" id="id8">Edit a record</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#api-in-detail" id="id9">API in Detail</a><ul>
<li><a class="reference internal" href="#schema" id="id10">Schema</a><ul>
<li><a class="reference internal" href="#curl-example" id="id11">Curl Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#authentication" id="id12">Authentication</a></li>
<li><a class="reference internal" href="#http-methods-available-in-oro-api" id="id13">HTTP Methods Available in Oro API</a><ul>
<li><a class="reference internal" href="#get" id="id14">GET</a></li>
<li><a class="reference internal" href="#post" id="id15">POST</a></li>
<li><a class="reference internal" href="#patch" id="id16">PATCH</a></li>
<li><a class="reference internal" href="#delete" id="id17">DELETE</a></li>
</ul>
</li>
<li><a class="reference internal" href="#http-header-specifics" id="id18">HTTP Header Specifics</a><ul>
<li><a class="reference internal" href="#header-examples" id="id19">Header Examples</a><ul>
<li><a class="reference internal" href="#example-1-total-number-of-existing-records" id="id20">Example 1. Total Number of Existing Records</a></li>
<li><a class="reference internal" href="#example-2-total-number-of-deleted-records" id="id21">Example 2. Total Number of Deleted Records</a></li>
<li><a class="reference internal" href="#example-3-conditions-for-the-delete-operation" id="id22">Example 3. Conditions for the Delete Operation</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#response-status-codes-and-errors" id="id23">Response Status Codes and Errors</a><ul>
<li><a class="reference internal" href="#response-status-codes" id="id24">Response Status Codes</a><ul>
<li><a class="reference internal" href="#example-successful-request" id="id25">Example. Successful Request</a></li>
<li><a class="reference internal" href="#example-request-resulted-in-error" id="id26">Example. Request Resulted in Error</a></li>
</ul>
</li>
<li><a class="reference internal" href="#error-messages" id="id27">Error Messages</a></li>
</ul>
</li>
<li><a class="reference internal" href="#resource-fields" id="id28">Resource Fields</a><ul>
<li><a class="reference internal" href="#most-common-resource-fields" id="id29">Most Common Resource Fields</a></li>
<li><a class="reference internal" href="#typical-communication-activities-fields" id="id30">Typical Communication Activities Fields</a></li>
</ul>
</li>
<li><a class="reference internal" href="#filters" id="id31">Filters</a><ul>
<li><a class="reference internal" href="#example-1-filter-in-a-query-string" id="id32">Example 1. Filter in a Query String</a></li>
<li><a class="reference internal" href="#example-2-wrong-input-type" id="id33">Example 2. Wrong Input Type</a></li>
<li><a class="reference internal" href="#example-3-unknown-filter" id="id34">Example 3. Unknown Filter</a></li>
<li><a class="reference internal" href="#fields-filter-fields" id="id35">Fields Filter (<strong>fields</strong>)</a><ul>
<li><a class="reference internal" href="#example-retrieve-only-required-fields" id="id36">Example. Retrieve Only Required Fields</a></li>
</ul>
</li>
<li><a class="reference internal" href="#data-filter-filter" id="id37">Data Filter (<strong>filter</strong>)</a><ul>
<li><a class="reference internal" href="#example-use-operators-to-filter-data" id="id38">Example. Use Operators to Filter Data</a></li>
</ul>
</li>
<li><a class="reference internal" href="#inclusion-filter-include" id="id39">Inclusion Filter (<strong>include</strong>)</a><ul>
<li><a class="reference internal" href="#example-include-a-related-resources-information" id="id40">Example. Include a Related Resources Information</a></li>
<li><a class="reference internal" href="#example-retrieve-only-required-fields-of-the-related-resource" id="id41">Example. Retrieve Only Required Fields of the Related Resource</a></li>
</ul>
</li>
<li><a class="reference internal" href="#pagination-filter-page" id="id42">Pagination Filter (<strong>page</strong>)</a><ul>
<li><a class="reference internal" href="#example-retrieve-a-particular-page-of-the-paged-response" id="id43">Example. Retrieve a Particular Page of the Paged Response</a></li>
</ul>
</li>
<li><a class="reference internal" href="#sorting-filter-sort" id="id44">Sorting Filter (<strong>sort</strong>)</a><ul>
<li><a class="reference internal" href="#example-sort-by-a-field-value" id="id45">Example. Sort by a Field Value</a></li>
</ul>
</li>
<li><a class="reference internal" href="#meta-property-filter-meta" id="id46">Meta Property Filter (<strong>meta</strong>)</a><ul>
<li><a class="reference internal" href="#example-retrieve-a-text-representation-of-the-resource" id="id47">Example. Retrieve a Text Representation of the Resource</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#create-and-update-related-resources-together-with-a-primary-api-resource" id="id48">Create and Update Related Resources Together with a Primary API Resource</a></li>
<li><a class="reference internal" href="#data-api-client-requirements" id="id49">Data API Client Requirements</a><ul>
<li><a class="reference internal" href="#example-valid-content-type" id="id50">Example. Valid <strong>Content-Type</strong></a></li>
<li><a class="reference internal" href="#example-ignore-media-type-in-response" id="id51">Example. Ignore Media Type in Response</a></li>
<li><a class="reference internal" href="#example-invalid-content-type" id="id52">Example. Invalid <strong>Content-Type</strong></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="overview">
<h2><a class="toc-backref" href="#id1">Overview</a><a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>An application programming interface (API) is a software interface which is designed to be used by other software for integration with this application.
Whilst an ordinary software program is used by a (human) computer user, an API is a software program used by
another software program.</p>
<p>The Representational State Transfer (REST) architectural style is an abstraction of the architectural elements
within a distributed hypermedia system. REST ignores the details of component implementation and protocol syntax in
order to focus on the roles of the components, the constraints on their interaction with other components, and their
interpretation of significant data elements. It encompasses the fundamental constraints on components, connectors,
and data that define the basis of the Web architecture, and thus the essence of its behavior as a network-based
application.</p>
<p><strong>JSON API</strong> is a <a class="reference external" href="http://jsonapi.org/format/">specification</a>  for how a client should request those resources to
be fetched or modified, and how a server should respond to them. It is designed to minimize both the number of requests
and the amount of data transmitted between the clients and the servers. This efficiency is achieved without compromising
on readability, flexibility or discoverability.</p>
<p>Therefore, here and below the term <em>API</em> will refer to the REST JSON API that gives programmatic access
to read and write data. Request and response body should use JSON format.</p>
</div>
<div class="section" id="quick-start">
<h2><a class="toc-backref" href="#id2">Quick Start</a><a class="headerlink" href="#quick-start" title="Permalink to this headline">¶</a></h2>
<div class="section" id="create-an-api-key">
<h3><a class="toc-backref" href="#id3">Create an API Key</a><a class="headerlink" href="#create-an-api-key" title="Permalink to this headline">¶</a></h3>
<p>To start using the API, you must take a few preliminary steps:</p>
<blockquote>
<div><ol class="arabic">
<li><p class="first">Ensure that the application is installed correctly.</p>
</li>
<li><p class="first">Generate an API key for a user:</p>
<blockquote>
<div><ul>
<li><p class="first">If you want to generate an API key for yourself, navigate to the profile page of your user:</p>
<blockquote>
<div><ul class="simple">
<li>Either click the <span class="guilabel">My User</span> link in the <strong>User Menu</strong> in the upper-right corner of the current page, or</li>
<li>Follow the direct link, e.g. <code class="docutils literal"><span class="pre">http://&lt;hostname_of_your_oro_application&gt;/user/profile/view</span></code>.</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">If you want to generate an API key for another user:</p>
<blockquote>
<div><ol class="loweralpha simple">
<li>Open their view page.</li>
<li>Open the <span class="guilabel">Users</span> grid (<span class="guilabel">System</span> &#8211;&gt; <span class="guilabel">User Management</span> &#8211;&gt; <span class="guilabel">Users</span>).</li>
<li>Find the user who needs an API key.</li>
<li>Click the corresponding grid row or the <i class="fa fa-eye fa-lg" aria-hidden="true"></i> <span class="guilabel">View</span> icon in the ellipsis menu at the right end of the row.</li>
</ol>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">Click the <span class="guilabel">Generate Key</span> button. You will see the generated key near the button, it will look like: &#8216;dd1c18d06773cc377c9df6166c54c6e5fefa50fa&#8217;.</p>
</li>
</ol>
</div></blockquote>
<img alt="../../_images/api_generateapikey_myuser.png" src="../../_images/api_generateapikey_myuser.png" />
<p>For more details about how to generate an API Key and authentication header, please see the <a class="reference internal" href="../other/how_to_use_wsse_authentication.html#how-to-use-wsse-authentication"><span class="std std-ref">How to use WSSE authentication</span></a> topic.</p>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">Please note that an API key will be generated in the scope of the current organization and will allow you to access data
in the scope of that particular organization only.</p>
</div>
<p>After the API key is generated, you will be able to execute API requests via the sandbox, Curl command, any other REST client or use the API via your own application.</p>
</div>
<div class="section" id="api-sandbox">
<h3><a class="toc-backref" href="#id4">API Sandbox</a><a class="headerlink" href="#api-sandbox" title="Permalink to this headline">¶</a></h3>
<p>The API sandbox page allows you to perform API requests directly from the Oro application instance.</p>
<div class="section" id="how-to-use-the-sandbox">
<h4><a class="toc-backref" href="#id5">How to Use the Sandbox</a><a class="headerlink" href="#how-to-use-the-sandbox" title="Permalink to this headline">¶</a></h4>
<p>The sandbox page for OroCommerce is available at: <code class="docutils literal"><span class="pre">http://&lt;hostname_of_your_oro_application&gt;/admin/api/doc</span></code>, unlike in OroCRM.</p>
<img alt="../../_images/api_plain_generalview.png" src="../../_images/api_plain_generalview.png" />
<p>This page represents a list of plain API resources. Plain API resources are old API implementations
based on <a class="reference external" href="http://symfony.com/doc/current/bundles/FOSRestBundle/index.html">FOSRestBundle</a>.</p>
<p>To switch to the JSON API sandbox, go to the <code class="docutils literal"><span class="pre">http://&lt;hostname_of_your_oro_application&gt;/admin/api/doc/rest_json_api</span></code> page, or click the <span class="guilabel">JSON.API</span>
link in the upper left-hand corner of the sandbox page.</p>
<img alt="../../_images/api_jsonlink.png" src="../../_images/api_jsonlink.png" />
<p>On the JSON.API sandbox page you will see the list of available resources.</p>
<img alt="../../_images/api_json_generalview.png" src="../../_images/api_json_generalview.png" />
<p>To review available methods for the resource, click the resource row or the <span class="guilabel">List Operations</span> link at the right-hand end of the row. You will see the list of available methods grouped in blocks by the resource URI.</p>
<img alt="../../_images/api_json_listmethods.png" src="../../_images/api_json_listmethods.png" />
<p>There is a documentation on how a method can be used with different resource URIs and there is a sandbox which contains a form that can be used to perform API requests.
To review the documentation and access the sandbox, click the method row for a specific resource URI. You will see the corresponding tabs in the expanded area.</p>
<img alt="../../_images/api_json_methodsb.png" src="../../_images/api_json_methodsb.png" />
<p>To expand information about all methods available for the resource, click the <span class="guilabel">Expand Operations</span> link at the right-hand end of resource row.</p>
<p>To switch between the collapsed list of available resources and the expanded state, click the <span class="guilabel">Show / hide</span> link at the right-hand end of the row.</p>
</div>
</div>
<div class="section" id="examples">
<h3><a class="toc-backref" href="#id6">Examples</a><a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h3>
<div class="section" id="retrieve-a-single-record">
<h4><a class="toc-backref" href="#id7">Retrieve a Single Record</a><a class="headerlink" href="#retrieve-a-single-record" title="Permalink to this headline">¶</a></h4>
<p>To retrieve a single record for a particular resource record with JSON API, perform the GET method with the id parameter specified:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Click the API resource row on the <code class="docutils literal"><span class="pre">http://&lt;hostname_of_your_oro_application&gt;/admin/api/doc/rest_json_api</span></code> page to expand the methods block.</li>
<li>Find the <span class="guilabel">/api/your_resource/{id}</span> block.</li>
<li>Click the <span class="guilabel">GET</span> method row.</li>
<li>Click the <span class="guilabel">Sandbox</span> tab. You will see the request form.</li>
<li>If you want to retrieve a single record, specify the record id for the <span class="guilabel">id</span> field in the <span class="guilabel">Requirements</span> section.</li>
<li>Click the <span class="guilabel">Try!</span> button to send the request to the server.</li>
</ol>
</div></blockquote>
<p>As soon as the response from the server is received, the <span class="guilabel">Request URL</span>, <span class="guilabel">Response Headers</span>, <span class="guilabel">Response Body</span>
and <span class="guilabel">Curl Command Line</span> sections will appear at the bottom of the <span class="guilabel">Sandbox</span> tab.</p>
<p>The <span class="guilabel">Request URL</span> block contains the request URL sent to the server.</p>
<p>The <span class="guilabel">Response Headers</span> block contains the status code of the server&#8217;s response. If the request is successful,
it contains the &#8216;200 OK&#8217; string.
To see the list of headers which the server sent in the response, click the <span class="guilabel">Expand</span> link next to the section header .</p>
<p>If the request is successful, you should see the output data of the request in the <span class="guilabel">Response Body</span> section. In the given
case, entity data will be in JSON format. More information about this format can
be found on the <a class="reference external" href="http://jsonapi.org/format/">JSON API</a> site.</p>
<p>The <span class="guilabel">Curl Command Line</span> section contains an example of the CLI command to perform the request
with <a class="reference external" href="https://curl.haxx.se/">Curl</a>.
This command may help emulate the real request to the API.</p>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">When performing Curl requests, please make sure your <strong>X-WSSE</strong> header is up to date for each request.</p>
</div>
</div>
<div class="section" id="edit-a-record">
<h4><a class="toc-backref" href="#id8">Edit a record</a><a class="headerlink" href="#edit-a-record" title="Permalink to this headline">¶</a></h4>
<p>To edit a record for a particular resource record with JSON API, perform the PATCH method with the id parameter specified:</p>
<blockquote>
<div><ol class="arabic">
<li><p class="first">Click the API resource row on the <code class="docutils literal"><span class="pre">http://&lt;hostname_of_your_oro_application&gt;/admin/api/doc/rest_json_api</span></code> page to expand the method block.</p>
</li>
<li><p class="first">Find the <span class="guilabel">/api/your_resource/{id}</span> block.</p>
</li>
<li><p class="first">Click the <span class="guilabel">PATCH</span> method row.</p>
</li>
<li><p class="first">Click the <span class="guilabel">Sandbox</span> tab. You will see the request form.</p>
</li>
<li><p class="first">If you want to edit a single record, in the <span class="guilabel">Requirements</span> section, in the <span class="guilabel">id</span> field, specify the record id.</p>
</li>
<li><p class="first">In the <span class="guilabel">Content</span> section, specify how the resource how a resource currently residing on the server should be modified to produce a new version.</p>
<p>For example, if you want to change the <strong>firstName</strong> field to &#8216;John&#8217; value for a User entity with id 1, the request content will look the following way:</p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;users&quot;</span><span class="p">,</span>
    <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
    <span class="nt">&quot;attributes&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;firstName&quot;</span><span class="p">:</span> <span class="s2">&quot;John&quot;</span><span class="p">,</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p class="first">Click the <span class="guilabel">Try!</span> button to send the request to the server.</p>
</li>
</ol>
</div></blockquote>
<p>Provided you have the edit permission to the record, you will see the updated data in the
<span class="guilabel">Response Body</span> section after the response from the server is received.</p>
</div>
</div>
</div>
<div class="section" id="api-in-detail">
<h2><a class="toc-backref" href="#id9">API in Detail</a><a class="headerlink" href="#api-in-detail" title="Permalink to this headline">¶</a></h2>
<div class="section" id="schema">
<h3><a class="toc-backref" href="#id10">Schema</a><a class="headerlink" href="#schema" title="Permalink to this headline">¶</a></h3>
<p>All API access is over HTTP or HTTPS (depending on a server configuration) and is accessed from the <code class="docutils literal"><span class="pre">http(s)://&lt;hostname_of_your_oro_application&gt;/api/&lt;resource_name&gt;</span></code>
All data is sent and received as JSON.</p>
<p>A typical request can be performed via curl or via the JSON sandbox.</p>
<div class="section" id="curl-example">
<h4><a class="toc-backref" href="#id11">Curl Example</a><a class="headerlink" href="#curl-example" title="Permalink to this headline">¶</a></h4>
<div class="highlight-http"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/api/users/1</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>

curl -X &quot;GET&quot; -H &quot;Content-Type: application/vnd.api+json&quot;
     -H &quot;Authorization: WSSE profile=&#39;UsernameToken&#39;&quot;
     -H &quot;X-WSSE: UsernameToken Username=&#39;admin&#39;,
         PasswordDigest=&#39;D5AjIiPf7edQX2EX8hLwtB3XhQY=&#39;,
         Created=&#39;2016-09-19T20:00:00+03:00&#39;,
         Nonce=&#39;N2hlMDc3TGcrVU53bGprNlQ0YXliLy9PSEFNPQ==&#39;&quot;
http://localhost.com/api/users/1
</pre></div>
</div>
<p>Please note that to simplify representation of request examples in the document, a short format will be used, e.g.:</p>
<div class="highlight-http"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/api/users/1</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">localhost.com</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/vnd.api+json</span>
<span class="na">Authorization</span><span class="o">:</span> <span class="l">WSSE profile=&#39;UsernameToken&#39;</span>
<span class="na">X-WSSE</span><span class="o">:</span> <span class="l">UsernameToken Username=&#39;...&#39;, PasswordDigest=&#39;...&#39;, Created=&#39;...&#39;, Nonce=&#39;...&#39;</span>
</pre></div>
</div>
<p><strong>Typical response header</strong></p>
<div class="highlight-http"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Server</span><span class="o">:</span> <span class="l">Apache/2.4.18 (Unix) PHP/5.5.38</span>
<span class="na">Date</span><span class="o">:</span> <span class="l">Mon, 19 Sep 2016 17:52:34 GMT</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/vnd.api+json</span>
<span class="na">Connection</span><span class="o">:</span> <span class="l">keep-alive</span>
<span class="na">Status</span><span class="o">:</span> <span class="l">200 OK</span>
<span class="na">Content-Length</span><span class="o">:</span> <span class="l">5279</span>
<span class="na">Cache-Control</span><span class="o">:</span> <span class="l">max-age=0, no-store</span>
</pre></div>
</div>
<p><strong>Typical response body</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;users&quot;</span><span class="p">,</span>
    <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
    <span class="nt">&quot;attributes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="nt">&quot;email&quot;</span><span class="p">:</span> <span class="s2">&quot;admin@local.com&quot;</span><span class="p">,</span>
        <span class="nt">&quot;firstName&quot;</span><span class="p">:</span> <span class="s2">&quot;John&quot;</span><span class="p">,</span>
        <span class="nt">&quot;enabled&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nt">&quot;lastLogin&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-09-19T11:01:31Z&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="nt">&quot;relationships&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;owner&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;businessunits&quot;</span><span class="p">,</span> <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">}</span> <span class="p">},</span>
        <span class="nt">&quot;businessUnits&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="p">{</span> <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;businessunits&quot;</span><span class="p">,</span> <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span> <span class="p">}</span> <span class="p">]</span> <span class="p">},</span>
    <span class="p">}</span>
<span class="p">}}</span>
</pre></div>
</div>
<p>Blank fields are included as <em>null</em> instead of being omitted.</p>
<p>Attributes or sub resources that are restricted are included as <em>null</em> as well.</p>
<p>All timestamps are returned in ISO 8601 format: <em>YYYY-MM-DDTHH:MM:SSZ</em>.</p>
</div>
</div>
<div class="section" id="authentication">
<h3><a class="toc-backref" href="#id12">Authentication</a><a class="headerlink" href="#authentication" title="Permalink to this headline">¶</a></h3>
<p>A RESTful API should be stateless. This means that request authentication should not depend on cookies or sessions.
Instead, each request should come with some authentication credentials.</p>
<p>For authentication purposes, the <strong>WSSE</strong> mechanism is used—a family of open security specifications for web services,
specifically SOAP web services. The basic premise of WSSE is that a request header is checked for encrypted credentials,
verified using a timestamp and nonce, and authenticated for the requested user using a password digest.</p>
<p>It’s based on the <a class="reference external" href="https://github.com/escapestudios/EscapeWSSEAuthenticationBundle">EscapeWSSEAuthenticationBundle</a>
that covers most cases from the
<a class="reference external" href="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0.pdf">WSSE specification</a> (PDF).</p>
<p>Here&#8217;s an example of a request header with the WSSE authentication. Please pay attention to the <strong>Authentication</strong> and <strong>X-WSSE</strong> parameters:</p>
<div class="highlight-http"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/api/users</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">localhost.com</span>
<span class="na">Connection</span><span class="o">:</span> <span class="l">keep-alive</span>
<span class="na">User-Agent</span><span class="o">:</span> <span class="l">Mozilla/5.0 ...</span>
<span class="na">Connection</span><span class="o">:</span> <span class="l">keep-alive</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">*/*</span>

Content-Type: application/vnd.api+json
Authorization: WSSE profile=&quot;UsernameToken&quot;
X-WSSE: UsernameToken Username=&quot;admin&quot;,
        PasswordDigest=&quot;Cae37DaU9JT1pwoaG5i7bXbDBo0=&quot;,
        Created=&quot;2016-09-20T10:00:00+03:00&quot;,
        Nonce=&quot;elRZL0lVOTl2T3lXeVBmUHRCL2ZrUnJoWUNZPQ==&quot;
</pre></div>
</div>
<p>For more details about WSSE authentication and particularly for how to generate an API Key and authentication header, please see the <a class="reference internal" href="../other/how_to_use_wsse_authentication.html#how-to-use-wsse-authentication"><span class="std std-ref">How to use WSSE authentication</span></a> topic.</p>
</div>
<div class="section" id="http-methods-available-in-oro-api">
<h3><a class="toc-backref" href="#id13">HTTP Methods Available in Oro API</a><a class="headerlink" href="#http-methods-available-in-oro-api" title="Permalink to this headline">¶</a></h3>
<p>The primary or most commonly-used HTTP methods are POST, GET, PUT, PATCH, and DELETE. These correspond to create, read, update, and delete (or CRUD) operations, respectively. There are a number of other methods, too, but they are utilized less frequently.</p>
<p>Below is a table summarizing HTTP methods available in Oro API and their return values in combination with the resource URIs:</p>
<table border="1" class="docutils">
<colgroup>
<col width="11%" />
<col width="14%" />
<col width="35%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">HTTP Method</th>
<th class="head">CRUD operation</th>
<th class="head">Entire Collection (e.g. /users)</th>
<th class="head">Specific Item (e.g. /users/{id})</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>GET</td>
<td>Read</td>
<td>200 (OK), list of entities.
Use pagination, sorting and filtering
to navigate big lists.</td>
<td><p class="first">200 (OK), single entity.</p>
<p class="last">404 (Not Found), if ID not found or invalid.</p>
</td>
</tr>
<tr class="row-odd"><td>POST</td>
<td>Create</td>
<td>201 (Created), Response contains
response similar to <strong>GET</strong> /user/{id}
containing new ID.</td>
<td><strong>not applicable</strong></td>
</tr>
<tr class="row-even"><td>PATCH</td>
<td>Update</td>
<td><strong>not applicable</strong></td>
<td><p class="first">200 (OK) or 204 (No Content).</p>
<p class="last">404 (Not Found), if ID not found or invalid.</p>
</td>
</tr>
<tr class="row-odd"><td>DELETE</td>
<td>Delete</td>
<td>200(OK) or 403(Forbidden) or
400(Bad Request) if no filter
is specified.</td>
<td><p class="first">200 (OK).</p>
<p class="last">404 (Not Found), if ID not found or invalid.</p>
</td>
</tr>
<tr class="row-even"><td>PUT</td>
<td>Update/Replace</td>
<td><strong>not implemented</strong></td>
<td><strong>not implemented</strong></td>
</tr>
</tbody>
</table>
<p>Also, the HTTP methods can be classified by the <em>idempotent</em> and <em>safe</em> properties.</p>
<p>The <em>safe</em> methods are the HTTP methods that do not modify resources. For instance, using GET or HEAD on a resource URL,
should NEVER change the resource.</p>
<p>An <em>idempotent</em> HTTP method is an HTTP method that can be called many times without different outcomes. It would not
matter if the method is called only once, or ten times over. The result should be the same.
For more details, please see <a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-4.2">RFC 7231: Common Method Properties</a>.</p>
<p>Below is a table summarizing HTTP methods by its idempotency and safety:</p>
<table border="1" class="docutils">
<colgroup>
<col width="42%" />
<col width="39%" />
<col width="19%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">HTTP Method</th>
<th class="head">Idempotent</th>
<th class="head">Safe</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>OPTIONS</td>
<td>yes</td>
<td>yes</td>
</tr>
<tr class="row-odd"><td>GET</td>
<td>yes</td>
<td>yes</td>
</tr>
<tr class="row-even"><td>HEAD</td>
<td>yes</td>
<td>yes</td>
</tr>
<tr class="row-odd"><td>PUT</td>
<td>yes</td>
<td>no</td>
</tr>
<tr class="row-even"><td>POST</td>
<td>no</td>
<td>no</td>
</tr>
<tr class="row-odd"><td>DELETE</td>
<td>yes</td>
<td>no</td>
</tr>
<tr class="row-even"><td>PATCH</td>
<td>no</td>
<td>no</td>
</tr>
</tbody>
</table>
<div class="section" id="get">
<h4><a class="toc-backref" href="#id14">GET</a><a class="headerlink" href="#get" title="Permalink to this headline">¶</a></h4>
<p>The HTTP GET method is used to <em>read</em> (or retrieve) a representation of a resource. In case of success (or non-error), GET returns a representation in JSON and an HTTP response status code of 200 (OK). In an error case, it most often returns a 404 (NOT FOUND) or 400 (BAD REQUEST).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">According to the design of the HTTP specification, GET requests are used only to read data and not change it.
So, they are considered safe. That is, they can be called without risk of data modification or corruption—calling it once has the same effect as calling it 10 times.</p>
</div>
</div>
<div class="section" id="post">
<h4><a class="toc-backref" href="#id15">POST</a><a class="headerlink" href="#post" title="Permalink to this headline">¶</a></h4>
<p>The POST method is most often utilized to <em>create</em> new resources. In particular, it is used to create subordinate
resources. That is, subordinate to some other (e.g. parent) resource. In other words, when creating a new resource,
POST to the parent and the service takes care of associating the new resource with the parent, assigning an
ID (new resource URI), etc.</p>
<p>On successful creation, HTTP response code 201 is returned.</p>
<div class="admonition caution">
<p class="first admonition-title">Caution</p>
<p class="last">POST is not a safe operation. Making two identical POST requests will most likely result in two resources containing
the same information but with different identifiers.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It is possible to create both primary and related API resources via a single API request. For details see the <a class="reference internal" href="#create-and-update-related-resources-together-with-a-primary-api-resource">Create and Update Related Resources Together with a Primary API Resource</a> section.</p>
</div>
</div>
<div class="section" id="patch">
<h4><a class="toc-backref" href="#id16">PATCH</a><a class="headerlink" href="#patch" title="Permalink to this headline">¶</a></h4>
<p>PATCH is used to <em>modify</em> resources. The PATCH request only needs to contain the changes to the resource,
not the complete resource.</p>
<p>In other words, the body should contain a set of instructions describing how a resource currently residing on the
server should be modified to produce a new version.</p>
<div class="admonition caution">
<p class="first admonition-title">Caution</p>
<p class="last">PATCH is not a safe operation. Collisions from multiple PATCH requests may be dangerous because some patch formats
need to operate from a known base point, otherwise they will corrupt the resource. Clients using this kind of patch
application should use a conditional request (e.g. GET a resource, ensure it was not modified and apply PATCH) such
that the request will fail, if the resource has been updated since the client last accessed the resource.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><a class="reference internal" href="#create-and-update-related-resources-together-with-a-primary-api-resource">Create and Update Related Resources Together with a Primary API Resource</a> section.</p>
</div>
</div>
<div class="section" id="delete">
<h4><a class="toc-backref" href="#id17">DELETE</a><a class="headerlink" href="#delete" title="Permalink to this headline">¶</a></h4>
<p>DELETE is quite easy to understand. It is used to <em>delete</em> a resource identified by filters or ID.</p>
<p>On successful deletion, the HTTP response status code 204 (No Content) returns with no response body.</p>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">If you DELETE a resource, it is removed. Repeatedly calling DELETE on that resource will often return a 404 (NOT FOUND)
since it was already removed and, therefore, is no longer findable.</p>
</div>
</div>
</div>
<div class="section" id="http-header-specifics">
<h3><a class="toc-backref" href="#id18">HTTP Header Specifics</a><a class="headerlink" href="#http-header-specifics" title="Permalink to this headline">¶</a></h3>
<p>As mentioned in the <a class="reference internal" href="#authentication">Authentication</a> section, to successfully perform an API request, it is important to provide the correct <strong>Content-Type</strong>
and <strong>Authentication</strong> parameters, e.g.:</p>
<div class="highlight-http"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/api/users</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/vnd.api+json</span>
<span class="na">Authorization</span><span class="o">:</span> <span class="l">WSSE profile=&quot;UsernameToken&quot;</span>
<span class="na">X-WSSE</span><span class="o">:</span> <span class="l">UsernameToken Username=&quot;...&quot;,PasswordDigest=&quot;...&quot;, Created=&quot;...&quot;, Nonce=&quot;...&quot;</span>
</pre></div>
</div>
<p>Also, by providing additional requests header parameters, it is possible to retrieve additional information, such as the total
number of records per certain resource for GET and DELETE methods or a total number of affected records
for the DELETE methods. The <strong>X-Include</strong> request header can be used for such purposes.</p>
<p>The following table describes all existing keys for the X-Include header.</p>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="17%" />
<col width="28%" />
<col width="42%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">HTTP Method</th>
<th class="head">X-Include key</th>
<th class="head">Response Header</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>GET</td>
<td>totalCount</td>
<td>X-Include-Total-Count</td>
<td>Returns the total number of entities.</td>
</tr>
<tr class="row-odd"><td>DELETE</td>
<td>totalCount</td>
<td>X-Include-Total-Count</td>
<td>Returns the total number of entities.</td>
</tr>
<tr class="row-even"><td>DELETE</td>
<td>deletedCount</td>
<td>X-Include-Deleted-Count</td>
<td>Returns the number of deleted entities.</td>
</tr>
</tbody>
</table>
<div class="section" id="header-examples">
<h4><a class="toc-backref" href="#id19">Header Examples</a><a class="headerlink" href="#header-examples" title="Permalink to this headline">¶</a></h4>
<div class="section" id="example-1-total-number-of-existing-records">
<h5><a class="toc-backref" href="#id20">Example 1. Total Number of Existing Records</a><a class="headerlink" href="#example-1-total-number-of-existing-records" title="Permalink to this headline">¶</a></h5>
<p>Retrieve the total count of resource records.</p>
<p><strong>Request header</strong></p>
<div class="highlight-http"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/api/users</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>

Content-Type: application/vnd.api+json
Accept: application/vnd.api+json
Authorization: ...
...
X-Include: totalCount
</pre></div>
</div>
<p><strong>Response</strong></p>
<div class="highlight-http"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Date</span><span class="o">:</span> <span class="l">Fri, 23 Sep 2016 12:27:05 GMT</span>
<span class="na">Server</span><span class="o">:</span> <span class="l">Apache/2.4.18 (Unix) PHP/5.5.38</span>

X-Include-Total-Count: 49

Content-Length: 585
Keep-Alive: timeout=5, max=100
Connection: Keep-Alive
Content-Type: application/vnd.api+json
</pre></div>
</div>
</div>
<div class="section" id="example-2-total-number-of-deleted-records">
<h5><a class="toc-backref" href="#id21">Example 2. Total Number of Deleted Records</a><a class="headerlink" href="#example-2-total-number-of-deleted-records" title="Permalink to this headline">¶</a></h5>
<p>Retrieve the total number of deleted records of the resource</p>
<p><strong>Request header</strong></p>
<div class="highlight-http"><div class="highlight"><pre><span></span><span class="nf">DELETE</span> <span class="nn">/api/users</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>

Content-Type: application/vnd.api+json
Accept: application/vnd.api+json
Authorization: ....
....
X-Include: deletedCount
</pre></div>
</div>
</div>
<div class="section" id="example-3-conditions-for-the-delete-operation">
<h5><a class="toc-backref" href="#id22">Example 3. Conditions for the Delete Operation</a><a class="headerlink" href="#example-3-conditions-for-the-delete-operation" title="Permalink to this headline">¶</a></h5>
<p>Request query string contains a filter that specifies conditions for deletion operation. Filters are described in more detail in the <a class="reference internal" href="#filters">Filters</a> section.</p>
<p><strong>Request header</strong></p>
<div class="highlight-http"><div class="highlight"><pre><span></span><span class="nf">DELETE</span> <span class="nn">/api/users?filter[id]=21,22</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>

Content-Type: application/vnd.api+json
Accept: application/vnd.api+json
Authorization: ....
</pre></div>
</div>
<p><strong>Response</strong></p>
<div class="highlight-http"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">No Content</span>
<span class="na">Date</span><span class="o">:</span> <span class="l">Fri, 23 Sep 2016 12:38:47 GMT</span>
<span class="na">Server</span><span class="o">:</span> <span class="l">Apache/2.4.18 (Unix) PHP/5.5.38</span>

X-Include-Deleted-Count: 2

Content-Length: 0
Keep-Alive: timeout=5, max=100
Connection: Keep-Alive
Content-Type: text/html
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="response-status-codes-and-errors">
<h3><a class="toc-backref" href="#id23">Response Status Codes and Errors</a><a class="headerlink" href="#response-status-codes-and-errors" title="Permalink to this headline">¶</a></h3>
<div class="section" id="response-status-codes">
<h4><a class="toc-backref" href="#id24">Response Status Codes</a><a class="headerlink" href="#response-status-codes" title="Permalink to this headline">¶</a></h4>
<p>In case of a successful request, a response status code will be one of the following:</p>
<blockquote>
<div><ul class="simple">
<li><strong>200 OK</strong>—In the response to a successful GET, PATCH or DELETE.</li>
<li><strong>201 Created</strong>—In the response to a POST that results in a creation. When this status received, the request body contains the description of the newly created entity in JSON format (similar to regular GET request).</li>
<li><strong>204 No Content</strong>—In the response to a successful request that won&#8217;t be returning a body (like a DELETE request)</li>
</ul>
</div></blockquote>
<div class="section" id="example-successful-request">
<h5><a class="toc-backref" href="#id25">Example. Successful Request</a><a class="headerlink" href="#example-successful-request" title="Permalink to this headline">¶</a></h5>
<p><strong>Request</strong></p>
<blockquote>
<div><div class="highlight-http"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/api/users/1</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</pre></div>
</div>
</div></blockquote>
<p><strong>Response</strong></p>
<blockquote>
<div><div class="highlight-http"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>

Request URL: http://localhost.com/api/users/1
Request Method: GET
Status Code: 200 OK
Remote Address: 127.0.0.1:80
</pre></div>
</div>
</div></blockquote>
<p>In case of an error, a response status code indicates the type of an error that has occurred. The most common of such codes are the following:</p>
<blockquote>
<div><ul class="simple">
<li><strong>400 Bad Request</strong>—The request is malformed, such as if the body of the request contains misformatted JSON.</li>
<li><strong>401 Unauthorized</strong>—No or invalid authentication details are provided. This code can be used to trigger an authentication pop-up if the API is used from a browser.</li>
<li><strong>403 Forbidden</strong>—Authentication succeeded but authenticated user does not have access to the resource.</li>
<li><strong>404 Not Found</strong>—A non-existent resource is requested.</li>
<li><strong>500 Internal Server Error</strong>—The server encountered an unexpected condition which prevented it from fulfilling the request.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="example-request-resulted-in-error">
<h5><a class="toc-backref" href="#id26">Example. Request Resulted in Error</a><a class="headerlink" href="#example-request-resulted-in-error" title="Permalink to this headline">¶</a></h5>
<p><strong>Request</strong></p>
<blockquote>
<div><div class="highlight-http"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/api/users/999</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</pre></div>
</div>
</div></blockquote>
<p><strong>Response</strong></p>
<blockquote>
<div><div class="highlight-http"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">404</span> <span class="ne">Not Found</span>

Request URL: http://localhost.com/api/users/1
Request Method: GET
Status Code: 404 Not Found
Remote Address: 127.0.0.1:80
</pre></div>
</div>
</div></blockquote>
</div>
</div>
<div class="section" id="error-messages">
<h4><a class="toc-backref" href="#id27">Error Messages</a><a class="headerlink" href="#error-messages" title="Permalink to this headline">¶</a></h4>
<p>Similar to an HTML error page that shows a useful error message to a visitor, the API displays an error message in
a consumable format. Representation of an error looks the same as the representation of any resource, only
with its own set of fields.</p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;errors&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;404&quot;</span><span class="p">,</span>
      <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;not found http exception&quot;</span><span class="p">,</span>
      <span class="nt">&quot;detail&quot;</span><span class="p">:</span> <span class="s2">&quot;An entity with the requested identifier does not exist.&quot;</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="resource-fields">
<h3><a class="toc-backref" href="#id28">Resource Fields</a><a class="headerlink" href="#resource-fields" title="Permalink to this headline">¶</a></h3>
<div class="section" id="most-common-resource-fields">
<h4><a class="toc-backref" href="#id29">Most Common Resource Fields</a><a class="headerlink" href="#most-common-resource-fields" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="11%" />
<col width="11%" />
<col width="78%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>id</td>
<td>integer</td>
<td>The unique identifier of a resource. In most cases, it is represented by an integer value, but
depending on the resource data model, it can be represented by a string or contain multiple columns</td>
</tr>
<tr class="row-odd"><td>createdAt</td>
<td>datetime</td>
<td>The date and time of resource record creation.</td>
</tr>
<tr class="row-even"><td>updatedAt</td>
<td>datetime</td>
<td>The date and time of the last update of the resource record.</td>
</tr>
<tr class="row-odd"><td>owner</td>
<td>user
or
businessunit
or
organization</td>
<td>Defines the range of users that are responsible for a record and can manage it.
Ownership also determines access permissions.</td>
</tr>
<tr class="row-even"><td>organization</td>
<td>organization</td>
<td>An organization record represents a real enterprise, business, firm, company or another
organization to which the users belong. Available only in Enterprise Edition instances.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="typical-communication-activities-fields">
<h4><a class="toc-backref" href="#id30">Typical Communication Activities Fields</a><a class="headerlink" href="#typical-communication-activities-fields" title="Permalink to this headline">¶</a></h4>
<p>The term &#8216;communication activity&#8217; describes an activity that involves communications and can have a direction, that is, be incoming or outgoing.
For example, &#8216;Call&#8217; and &#8216;Email&#8217; are communication activities. When a client calls or sends an email to their
manager, it is an incoming communication activity. When a manager calls a client or sends an email, it is an outgoing communication activity.
The data based on communication activities may be used to build useful forecast reports.</p>
<p>The table below describes fields available for the resources that support such communication activities
as &#8216;Call,&#8217; &#8216;Email,&#8217; etc.</p>
<table border="1" class="docutils">
<colgroup>
<col width="18%" />
<col width="8%" />
<col width="73%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>lastContactedDate</td>
<td>datetime</td>
<td>The date and time of the last communication activity for the resource record.</td>
</tr>
<tr class="row-odd"><td>lastContactedDateIn</td>
<td>datetime</td>
<td>The date and time of the last incoming communication activity for the resource record.</td>
</tr>
<tr class="row-even"><td>lastContactedDateOut</td>
<td>datetime</td>
<td>The date and time of the last outgoing communication activity for the resource record.</td>
</tr>
<tr class="row-odd"><td>timesContacted</td>
<td>integer</td>
<td>Date and time of the last contact attempt (email sent, call logged,
or other contact activity). Marketing emails are not counted.</td>
</tr>
<tr class="row-even"><td>timesContactedIn</td>
<td>integer</td>
<td>Date and time of the last incoming contact attempt (email received,
incoming call logged, or other contact activity). Marketing emails are not counted.</td>
</tr>
<tr class="row-odd"><td>timesContactedOut</td>
<td>integer</td>
<td>Date and time of the last outgoing contact attempt (email sent, outgoing call logged,
or other contact activity). Marketing emails are not counted.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="filters">
<h3><a class="toc-backref" href="#id31">Filters</a><a class="headerlink" href="#filters" title="Permalink to this headline">¶</a></h3>
<p>You can perform the GET and DELETE methods on a subset of resource records. A subset of records can be received by applying filters to some of the resource&#8217;s fields.</p>
<p>Available filters are listed in the <span class="guilabel">Documentation</span> tab of the method&#8217;s expanded area, in the <span class="guilabel">Filters</span> section.</p>
<p>To filter, perform a GET request and put your filters parameters in the query string.</p>
<div class="section" id="example-1-filter-in-a-query-string">
<h4><a class="toc-backref" href="#id32">Example 1. Filter in a Query String</a><a class="headerlink" href="#example-1-filter-in-a-query-string" title="Permalink to this headline">¶</a></h4>
<p>Retrieve all users of organization &#8216;1&#8217;.</p>
<p><strong>Request</strong></p>
<div class="highlight-http"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/api/users?filter[organization]=1</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</pre></div>
</div>
<p>Similar to a field, a filter declares a data type and only takes specific values in input.</p>
<p>Below are examples of requests and errors.</p>
</div>
<div class="section" id="example-2-wrong-input-type">
<h4><a class="toc-backref" href="#id33">Example 2. Wrong Input Type</a><a class="headerlink" href="#example-2-wrong-input-type" title="Permalink to this headline">¶</a></h4>
<p>A string value is passed as an input to a filter which can contain only integer values.</p>
<div class="highlight-http"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/api/users?filter[id]=aaa</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>

{ &quot;errors&quot;: [{
  &quot;status&quot;: &quot;400&quot;,
  &quot;title&quot;: &quot;unexpected value exception&quot;,
  &quot;detail&quot;: &quot;Expected integer value. Given \&quot;aaa\&quot;.&quot;,
  &quot;source&quot;: {
    &quot;parameter&quot;: &quot;filter[id]&quot;
  }
}] }
</pre></div>
</div>
</div>
<div class="section" id="example-3-unknown-filter">
<h4><a class="toc-backref" href="#id34">Example 3. Unknown Filter</a><a class="headerlink" href="#example-3-unknown-filter" title="Permalink to this headline">¶</a></h4>
<p>Unknown, mistyped or unsupported filter.</p>
<div class="highlight-http"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/api/users?filter[unknown]=aaa</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>

{ &quot;errors&quot;: [{
  &quot;status&quot;: &quot;400&quot;,
  &quot;title&quot;: &quot;filter constraint&quot;,
  &quot;detail&quot;: &quot;Filter \&quot;filter[unknown]\&quot; is not supported.&quot;,
  &quot;source&quot;: {
    &quot;parameter&quot;: &quot;filter[unknown]&quot;
  }
}] }
</pre></div>
</div>
<p>The API allows you to use several types of filters. Filter types are briefly described in the table below.</p>
<table border="1" class="docutils">
<colgroup>
<col width="8%" />
<col width="26%" />
<col width="66%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Filter</th>
<th class="head">Usage Example</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>fields</td>
<td>fields[owner]=id,name</td>
<td>Used for limiting the response data only to specified fields.
Depends on the <strong>include</strong> filter if the filter is applied to a relation.</td>
</tr>
<tr class="row-odd"><td>filter</td>
<td>filter[id]=1
or
filter[id]=5,7
or
filter[id]&gt;8&amp;filter[name]=a</td>
<td><p class="first">Used for filtering the response data by specific values of a specific
field. Can accept additional operators like <code class="docutils literal"><span class="pre">&lt;</span></code>, <code class="docutils literal"><span class="pre">&gt;</span></code>, etc.</p>
<p>May accept several values. In such case, they will be perceived as
connected using a logical <code class="docutils literal"><span class="pre">OR</span></code> operator,
e.g. id == 5 OR id == 7</p>
<p class="last">And in case of several filters in request, all of them will be perceived as
connected using a logical <code class="docutils literal"><span class="pre">AND</span></code> operator,
e.g. id &gt; 8 AND name == &#8216;a&#8217;</p>
</td>
</tr>
<tr class="row-even"><td>include</td>
<td>include=[owner,organization]</td>
<td>Used for inclusion into response the related resources data.</td>
</tr>
<tr class="row-odd"><td>page</td>
<td>page[size]=10&amp;page[number]=1</td>
<td>Used for pagination purposes.</td>
</tr>
<tr class="row-even"><td>sort</td>
<td>sort=id
or
sort=id,-name</td>
<td><p class="first">Used for data sorting. By default the ASC sorting applies.</p>
<p class="last">To perform DESC sorting specify <code class="docutils literal"><span class="pre">-</span></code> before field name.</p>
</td>
</tr>
<tr class="row-odd"><td>meta</td>
<td>meta=property1,property2</td>
<td>Used for requesting additional meta properties for API resources.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="fields-filter-fields">
<h4><a class="toc-backref" href="#id35">Fields Filter (<strong>fields</strong>)</a><a class="headerlink" href="#fields-filter-fields" title="Permalink to this headline">¶</a></h4>
<p>All objects are composed of fields. They all have a unique identifier in the given class of objects (ID), plus some
other fields defined in the Data API Reference. Some fields are publicly readable, some other are not and need the user
to have extended permissions to use them.</p>
<p>To request particular fields, use the <strong>fields</strong> filter and specify the fields you need in the response as its values.</p>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">We recommend you to always use the fields filter and retrieve only the fields you will use in your application.</p>
</div>
<div class="section" id="example-retrieve-only-required-fields">
<h5><a class="toc-backref" href="#id36">Example. Retrieve Only Required Fields</a><a class="headerlink" href="#example-retrieve-only-required-fields" title="Permalink to this headline">¶</a></h5>
<blockquote>
<div><p>Select the <strong>username</strong> and the <strong>email</strong> fields of the <strong>users</strong> resource.</p>
<p><strong>Request</strong></p>
<div class="highlight-http"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">api/users?fields[users]=username,email</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>

Content-Type: application/vnd.api+json
Accept: application/vnd.api+json
...
</pre></div>
</div>
<p><strong>Response</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;users&quot;</span><span class="p">,</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
      <span class="nt">&quot;attributes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
        <span class="nt">&quot;email&quot;</span><span class="p">:</span> <span class="s2">&quot;admin@local.com&quot;</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;users&quot;</span><span class="p">,</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span>
      <span class="nt">&quot;attributes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;sale&quot;</span><span class="p">,</span>
        <span class="nt">&quot;email&quot;</span><span class="p">:</span> <span class="s2">&quot;sale@example.com&quot;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
</div>
</div>
<div class="section" id="data-filter-filter">
<h4><a class="toc-backref" href="#id37">Data Filter (<strong>filter</strong>)</a><a class="headerlink" href="#data-filter-filter" title="Permalink to this headline">¶</a></h4>
<p>Depending on the type of the filter, certain operators are allowed. For example, for integer filter type it
is allowed to use six operators: <strong>=</strong>, <strong>!=</strong>, <strong>&lt;</strong>, <strong>&lt;=</strong>, <strong>&gt;</strong>, <strong>&gt;=</strong>, for string filter type - only two: <strong>=</strong>, <strong>!</strong>.</p>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="27%" />
<col width="15%" />
<col width="46%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operator</th>
<th class="head">Description</th>
<th class="head">URL Encoded</th>
<th class="head">Request Example</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>=</strong></td>
<td>Equality</td>
<td>%3D</td>
<td>GET /api/users?filter[id]=1 HTTP/1.1</td>
</tr>
<tr class="row-odd"><td><strong>!=</strong></td>
<td>Inequality</td>
<td>%21%3D</td>
<td>GET /api/users?filter[id]!=2 HTTP/1.1</td>
</tr>
<tr class="row-even"><td><strong>&lt;</strong></td>
<td>Less than</td>
<td>%3C</td>
<td>GET /api/users?filter[id]&lt;3 HTTP/1.1</td>
</tr>
<tr class="row-odd"><td><strong>&lt;=</strong></td>
<td>Less than or equal</td>
<td>%3C%3D</td>
<td>GET /api/users?filter[id]&lt;=4 HTTP/1.1</td>
</tr>
<tr class="row-even"><td><strong>&gt;</strong></td>
<td>Greater than</td>
<td>%3E</td>
<td>GET /api/users?filter[id]&gt;5 HTTP/1.1</td>
</tr>
<tr class="row-odd"><td><strong>&gt;=</strong></td>
<td>Greater than or equal</td>
<td>%3E%3D</td>
<td>GET /api/users?filter[id]&gt;=6 HTTP/1.1</td>
</tr>
</tbody>
</table>
<div class="section" id="example-use-operators-to-filter-data">
<h5><a class="toc-backref" href="#id38">Example. Use Operators to Filter Data</a><a class="headerlink" href="#example-use-operators-to-filter-data" title="Permalink to this headline">¶</a></h5>
<p><strong>Request</strong></p>
<div class="highlight-http"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/api/users?filter[id]&gt;5$page[number]=1&amp;page[size]=2&amp;fields[users]=username,email</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>

Content-Type: application/vnd.api+json
Accept: application/vnd.api+json
...
</pre></div>
</div>
<p><strong>Response</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;users&quot;</span><span class="p">,</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;6&quot;</span><span class="p">,</span>
      <span class="nt">&quot;attributes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;jimmy.henderson_c4261&quot;</span><span class="p">,</span>
        <span class="nt">&quot;email&quot;</span><span class="p">:</span> <span class="s2">&quot;jimmy.henderson_c428e@example.com&quot;</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;users&quot;</span><span class="p">,</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;7&quot;</span><span class="p">,</span>
      <span class="nt">&quot;attributes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;gene.cardenas_c760d&quot;</span><span class="p">,</span>
        <span class="nt">&quot;email&quot;</span><span class="p">:</span> <span class="s2">&quot;gene.cardenas_c7620@yahoo.com&quot;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="inclusion-filter-include">
<h4><a class="toc-backref" href="#id39">Inclusion Filter (<strong>include</strong>)</a><a class="headerlink" href="#inclusion-filter-include" title="Permalink to this headline">¶</a></h4>
<p>As mentioned above, the <strong>include</strong> filter allows you to extend the response data with the related resources information.
It is usually used to reduce the number of requests to the server or, in other words, to retrieve all necessary data
in a single request.</p>
<p>All included resources will be represented in <strong>included</strong> section at the end of the response body.</p>
<img alt="../../_images/api_filter_included.png" src="../../_images/api_filter_included.png" />
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">Please note, in case of using <strong>fields</strong> filter for the main resource (e.g. users), it must contain
the field(s) used in the <strong>include</strong> filter.</p>
</div>
<div class="section" id="example-include-a-related-resources-information">
<h5><a class="toc-backref" href="#id40">Example. Include a Related Resources Information</a><a class="headerlink" href="#example-include-a-related-resources-information" title="Permalink to this headline">¶</a></h5>
<p>Include the <strong>roles</strong> relation with the <strong>fields</strong> filter.</p>
<p><strong>Request</strong></p>
<div class="highlight-http"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">api/users?fields[users]=username,email,roles&amp;include=roles&amp;page[number]=1&amp;page[size]=1</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>

Content-Type: application/vnd.api+json
Accept: application/vnd.api+json
...
</pre></div>
</div>
<p><strong>Response</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;users&quot;</span><span class="p">,</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
      <span class="nt">&quot;attributes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
        <span class="nt">&quot;email&quot;</span><span class="p">:</span> <span class="s2">&quot;admin@local.com&quot;</span>
      <span class="p">},</span>
      <span class="nt">&quot;relationships&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;roles&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
              <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;userroles&quot;</span><span class="p">,</span>
              <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;3&quot;</span>
            <span class="p">}</span>
          <span class="p">]</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="nt">&quot;included&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;userroles&quot;</span><span class="p">,</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;3&quot;</span><span class="p">,</span>
      <span class="nt">&quot;attributes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;extend_description&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="nt">&quot;role&quot;</span><span class="p">:</span> <span class="s2">&quot;ROLE_ADMINISTRATOR&quot;</span><span class="p">,</span>
        <span class="nt">&quot;label&quot;</span><span class="p">:</span> <span class="s2">&quot;Administrator&quot;</span>
      <span class="p">},</span>
      <span class="nt">&quot;relationships&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;organization&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="kc">null</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Also, it is possible to limit fields that will be retrieved from the relation. For such purposes, the <strong>fields</strong> filter
should be used.</p>
</div>
<div class="section" id="example-retrieve-only-required-fields-of-the-related-resource">
<h5><a class="toc-backref" href="#id41">Example. Retrieve Only Required Fields of the Related Resource</a><a class="headerlink" href="#example-retrieve-only-required-fields-of-the-related-resource" title="Permalink to this headline">¶</a></h5>
<p><strong>Request</strong></p>
<div class="highlight-http"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">api/users?fields[userroles]=label&amp;fields[users]=username,email,roles&amp;include=roles&amp;page[number]=1&amp;page[size]=1</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>

Content-Type: application/vnd.api+json
Accept: application/vnd.api+json
...
</pre></div>
</div>
<p><strong>Response</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;users&quot;</span><span class="p">,</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
      <span class="nt">&quot;attributes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
        <span class="nt">&quot;email&quot;</span><span class="p">:</span> <span class="s2">&quot;admin@local.com&quot;</span>
      <span class="p">},</span>
      <span class="nt">&quot;relationships&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;roles&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
              <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;userroles&quot;</span><span class="p">,</span>
              <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;3&quot;</span>
            <span class="p">}</span>
          <span class="p">]</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="nt">&quot;included&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;userroles&quot;</span><span class="p">,</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;3&quot;</span><span class="p">,</span>
      <span class="nt">&quot;attributes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;label&quot;</span><span class="p">:</span> <span class="s2">&quot;Administrator&quot;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="pagination-filter-page">
<h4><a class="toc-backref" href="#id42">Pagination Filter (<strong>page</strong>)</a><a class="headerlink" href="#pagination-filter-page" title="Permalink to this headline">¶</a></h4>
<p>By default, the page size is limited to 10 records and the page number is 1. However, it is possible to ask the server to
change the page size or page number to get the records that will fit your needs. Pagination
parameters should be passed as the parameters of the query string.</p>
<table border="1" class="docutils">
<colgroup>
<col width="15%" />
<col width="8%" />
<col width="14%" />
<col width="63%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Type</th>
<th class="head">Default value</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>page[size]</td>
<td>integer</td>
<td>10</td>
<td>Set a positive integer number.
To disable the pagination, set it as -1. In this case
<strong>page[number]</strong> will not be taken into account and can be omitted.</td>
</tr>
<tr class="row-odd"><td>page[number]</td>
<td>integer</td>
<td>1</td>
<td>The number of the page.</td>
</tr>
</tbody>
</table>
<div class="section" id="example-retrieve-a-particular-page-of-the-paged-response">
<h5><a class="toc-backref" href="#id43">Example. Retrieve a Particular Page of the Paged Response</a><a class="headerlink" href="#example-retrieve-a-particular-page-of-the-paged-response" title="Permalink to this headline">¶</a></h5>
<p>Get the 2nd page of the retrieved records for the <strong>users</strong> resource with 20 records per page.</p>
<p><strong>Request</strong></p>
<div class="highlight-http"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/api/users?page[number]=2&amp;page[size]=20</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>

Content-Type: application/vnd.api+json
Accept: application/vnd.api+json
...
</pre></div>
</div>
</div>
</div>
<div class="section" id="sorting-filter-sort">
<h4><a class="toc-backref" href="#id44">Sorting Filter (<strong>sort</strong>)</a><a class="headerlink" href="#sorting-filter-sort" title="Permalink to this headline">¶</a></h4>
<p>When the response to your call is a list of objects, you can also sort this list by using the sort filter with any of the
available values listed in the API reference.</p>
<div class="section" id="example-sort-by-a-field-value">
<h5><a class="toc-backref" href="#id45">Example. Sort by a Field Value</a><a class="headerlink" href="#example-sort-by-a-field-value" title="Permalink to this headline">¶</a></h5>
<p>Sort by <strong>username</strong> in descending order.</p>
<p><strong>Request</strong></p>
<div class="highlight-http"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/api/users?filter[id]&gt;5$page[number]=1&amp;page[size]=2&amp;fields[users]=username,email&amp;sort=-username</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>

Content-Type: application/vnd.api+json
Accept: application/vnd.api+json
...
</pre></div>
</div>
<p><strong>Response</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;users&quot;</span><span class="p">,</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;24&quot;</span><span class="p">,</span>
      <span class="nt">&quot;attributes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;william.morrison_247fe&quot;</span><span class="p">,</span>
        <span class="nt">&quot;email&quot;</span><span class="p">:</span> <span class="s2">&quot;william.morrison_2482c@msn.com&quot;</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;users&quot;</span><span class="p">,</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;31&quot;</span><span class="p">,</span>
      <span class="nt">&quot;attributes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;victor.nixon_54050&quot;</span><span class="p">,</span>
        <span class="nt">&quot;email&quot;</span><span class="p">:</span> <span class="s2">&quot;victor.nixon_5406f@gmail.com&quot;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="meta-property-filter-meta">
<h4><a class="toc-backref" href="#id46">Meta Property Filter (<strong>meta</strong>)</a><a class="headerlink" href="#meta-property-filter-meta" title="Permalink to this headline">¶</a></h4>
<p>The <strong>meta</strong> filter allows you to request additional meta properties for the resource. Meta properties will be generated for every item and will be returned in the item&#8217;s meta object in the response data.</p>
<p>The following table contains a list of supported meta properties that may be requested using <em>?meta=meta_property_name</em> filter:</p>
<table border="1" class="docutils">
<colgroup>
<col width="27%" />
<col width="73%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>title</td>
<td>A text representation of the resource.</td>
</tr>
</tbody>
</table>
<div class="section" id="example-retrieve-a-text-representation-of-the-resource">
<h5><a class="toc-backref" href="#id47">Example. Retrieve a Text Representation of the Resource</a><a class="headerlink" href="#example-retrieve-a-text-representation-of-the-resource" title="Permalink to this headline">¶</a></h5>
<blockquote>
<div><p><strong>Request</strong></p>
<div class="highlight-http"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">api/users?meta=title</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>

Content-Type: application/vnd.api+json
Accept: application/vnd.api+json
...
</pre></div>
</div>
<p><strong>Response</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;users&quot;</span><span class="p">,</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
      <span class="nt">&quot;meta&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;John Doe&quot;</span><span class="p">,</span>
      <span class="p">},</span>
      <span class="nt">&quot;attributes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;john.doe&quot;</span><span class="p">,</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;users&quot;</span><span class="p">,</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span>
      <span class="nt">&quot;meta&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Ellen Rowell&quot;</span><span class="p">,</span>
      <span class="p">},</span>
      <span class="nt">&quot;attributes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;ellen.rowell&quot;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
</div>
</div>
</div>
<div class="section" id="create-and-update-related-resources-together-with-a-primary-api-resource">
<h3><a class="toc-backref" href="#id48">Create and Update Related Resources Together with a Primary API Resource</a><a class="headerlink" href="#create-and-update-related-resources-together-with-a-primary-api-resource" title="Permalink to this headline">¶</a></h3>
<p>Sometimes it is required to create or update related resources while creating or updating the primary API resource. Especially often such a need arises when you create a complex API resource object via a single API request. Unfortunately, the JSON API specification does not describe how to do this. The solution proposed by the Oro Platform is to use the <strong>included</strong> section of a JSON request body. Please take a look at the following example:</p>
<p><strong>Request</strong></p>
<div class="highlight-http"><div class="highlight"><pre><span></span><span class="nf">POST</span> <span class="nn">/api/accounts</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/vnd.api+json</span>
</pre></div>
</div>
<p><strong>Request Body</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span><span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;accounts&quot;</span><span class="p">,</span>
    <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
    <span class="nt">&quot;attributes&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Cloth World&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;relationships&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;organization&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span><span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;organizations&quot;</span><span class="p">,</span> <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">}</span>
      <span class="p">},</span>
      <span class="nt">&quot;owner&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span><span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;users&quot;</span><span class="p">,</span> <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">}</span>
      <span class="p">},</span>
      <span class="nt">&quot;contacts&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span>
          <span class="p">{</span><span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;contacts&quot;</span><span class="p">,</span> <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;8da4d8e7-6b25-4c5c-8075-b510f7bbb84f&quot;</span><span class="p">},</span>
          <span class="p">{</span><span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;contacts&quot;</span><span class="p">,</span> <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;707dda0d-35f5-47b9-b2ce-a3e92b9fdee7&quot;</span><span class="p">}</span>
        <span class="p">]</span>
      <span class="p">},</span>
      <span class="nt">&quot;defaultContact&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span><span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;contacts&quot;</span><span class="p">,</span> <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;707dda0d-35f5-47b9-b2ce-a3e92b9fdee7&quot;</span><span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nt">&quot;included&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;contacts&quot;</span><span class="p">,</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;8da4d8e7-6b25-4c5c-8075-b510f7bbb84f&quot;</span><span class="p">,</span>
      <span class="nt">&quot;attributes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;firstName&quot;</span><span class="p">:</span> <span class="s2">&quot;John&quot;</span><span class="p">,</span>
        <span class="nt">&quot;lastName&quot;</span><span class="p">:</span> <span class="s2">&quot;Doe&quot;</span>
      <span class="p">},</span>
      <span class="nt">&quot;relationships&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;organization&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span><span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;organizations&quot;</span><span class="p">,</span> <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">}</span>
        <span class="p">},</span>
        <span class="nt">&quot;owner&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span><span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;users&quot;</span><span class="p">,</span> <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">}</span>
        <span class="p">},</span>
        <span class="nt">&quot;source&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span><span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;contactsources&quot;</span><span class="p">,</span> <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;tv&quot;</span><span class="p">}</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;contacts&quot;</span><span class="p">,</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;707dda0d-35f5-47b9-b2ce-a3e92b9fdee7&quot;</span><span class="p">,</span>
      <span class="nt">&quot;attributes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;firstName&quot;</span><span class="p">:</span> <span class="s2">&quot;Nancy&quot;</span><span class="p">,</span>
        <span class="nt">&quot;lastName&quot;</span><span class="p">:</span> <span class="s2">&quot;Jones&quot;</span>
      <span class="p">},</span>
      <span class="nt">&quot;relationships&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;organization&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span><span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;organizations&quot;</span><span class="p">,</span> <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">}</span>
        <span class="p">},</span>
        <span class="nt">&quot;owner&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span><span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;users&quot;</span><span class="p">,</span> <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">}</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Response</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span><span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;accounts&quot;</span><span class="p">,</span>
    <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;52&quot;</span><span class="p">,</span>
    <span class="nt">&quot;attributes&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Cloth World&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;relationships&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;organization&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span><span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;organizations&quot;</span><span class="p">,</span> <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">}</span>
      <span class="p">},</span>
      <span class="nt">&quot;owner&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span><span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;users&quot;</span><span class="p">,</span> <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">}</span>
      <span class="p">},</span>
      <span class="nt">&quot;contacts&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span>
          <span class="p">{</span><span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;contacts&quot;</span><span class="p">,</span> <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;79&quot;</span><span class="p">},</span>
          <span class="p">{</span><span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;contacts&quot;</span><span class="p">,</span> <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;80&quot;</span><span class="p">}</span>
        <span class="p">]</span>
      <span class="p">},</span>
      <span class="nt">&quot;defaultContact&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span><span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;contacts&quot;</span><span class="p">,</span> <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;80&quot;</span><span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nt">&quot;included&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;contacts&quot;</span><span class="p">,</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;79&quot;</span><span class="p">,</span>
      <span class="nt">&quot;meta&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;includeId&quot;</span><span class="p">:</span> <span class="s2">&quot;8da4d8e7-6b25-4c5c-8075-b510f7bbb84f&quot;</span>
      <span class="p">},</span>
      <span class="nt">&quot;attributes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;firstName&quot;</span><span class="p">:</span> <span class="s2">&quot;John&quot;</span><span class="p">,</span>
        <span class="nt">&quot;lastName&quot;</span><span class="p">:</span> <span class="s2">&quot;Doe&quot;</span>
      <span class="p">},</span>
      <span class="nt">&quot;relationships&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;organization&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span><span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;organizations&quot;</span><span class="p">,</span> <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">}</span>
        <span class="p">},</span>
        <span class="nt">&quot;owner&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span><span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;users&quot;</span><span class="p">,</span> <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">}</span>
        <span class="p">},</span>
        <span class="nt">&quot;source&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span><span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;contactsources&quot;</span><span class="p">,</span> <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;tv&quot;</span><span class="p">}</span>
        <span class="p">},</span>
        <span class="nt">&quot;accounts&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span><span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;accounts&quot;</span><span class="p">,</span> <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;52&quot;</span><span class="p">}</span>
          <span class="p">]</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;contacts&quot;</span><span class="p">,</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;80&quot;</span><span class="p">,</span>
      <span class="nt">&quot;meta&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;includeId&quot;</span><span class="p">:</span> <span class="s2">&quot;707dda0d-35f5-47b9-b2ce-a3e92b9fdee7&quot;</span>
      <span class="p">},</span>
      <span class="nt">&quot;attributes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;firstName&quot;</span><span class="p">:</span> <span class="s2">&quot;Nancy&quot;</span><span class="p">,</span>
        <span class="nt">&quot;lastName&quot;</span><span class="p">:</span> <span class="s2">&quot;Jones&quot;</span>
      <span class="p">},</span>
      <span class="nt">&quot;relationships&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;organization&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span><span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;organizations&quot;</span><span class="p">,</span> <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">}</span>
        <span class="p">},</span>
        <span class="nt">&quot;owner&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span><span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;users&quot;</span><span class="p">,</span> <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">}</span>
        <span class="p">},</span>
        <span class="nt">&quot;accounts&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span><span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;accounts&quot;</span><span class="p">,</span> <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;52&quot;</span><span class="p">}</span>
          <span class="p">]</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This request does the following:</p>
<ol class="arabic simple">
<li>Creates account &#8216;Cloth World&#8217;.</li>
<li>Creates two contacts, &#8216;John Doe&#8217; and &#8216;Nancy Jones&#8217;.</li>
<li>Assigns these contacts to the account &#8216;Cloth World&#8217;.</li>
<li>Makes &#8216;Nancy Jones&#8217; the default contact for &#8216;Cloth World&#8217;.</li>
</ol>
<p>Please pay attention to the identifiers of the contacts. For &#8216;John Doe&#8217; it is &#8216;8da4d8e7-6b25-4c5c-8075-b510f7bbb84f&#8217;. For &#8216;Nancy Jones&#8217; it is &#8216;707dda0d-35f5-47b9-b2ce-a3e92b9fdee7&#8217;. These identifiers are used to specify relations between resources in scope of the request. In this example, GUIDs are used but it is possible to use any algorithm to generate such identifiers. The only requirement is that they must be unique in scope of the request. For example, the following identifiers are valid as well: &#8216;john_doe&#8217; and &#8216;nancy_jones&#8217;.</p>
<p>Also, it is possible to update several related resources via a single API request. The related resources to be updated should be marked with <strong>update</strong> meta property. For instance, take a look at the following request:</p>
<p><strong>Request</strong></p>
<div class="highlight-http"><div class="highlight"><pre><span></span><span class="nf">PATCH</span> <span class="nn">/api/accounts/52</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/vnd.api+json</span>
</pre></div>
</div>
<p><strong>Request Body</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span><span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;accounts&quot;</span><span class="p">,</span>
    <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;52&quot;</span><span class="p">,</span>
    <span class="nt">&quot;attributes&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Cloth World Market&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;relationships&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;defaultContact&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span><span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;contacts&quot;</span><span class="p">,</span> <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;79&quot;</span><span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nt">&quot;included&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;meta&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;update&quot;</span><span class="p">:</span> <span class="kc">true</span>
      <span class="p">},</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;contacts&quot;</span><span class="p">,</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;79&quot;</span><span class="p">,</span>
      <span class="nt">&quot;attributes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;primaryEmail&quot;</span><span class="p">:</span> <span class="s2">&quot;john_doe@example.com&quot;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Response</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span><span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;accounts&quot;</span><span class="p">,</span>
    <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;52&quot;</span><span class="p">,</span>
    <span class="nt">&quot;attributes&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Cloth World Market&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;relationships&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;defaultContact&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span><span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;contacts&quot;</span><span class="p">,</span> <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;79&quot;</span><span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nt">&quot;included&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;contacts&quot;</span><span class="p">,</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;79&quot;</span><span class="p">,</span>
      <span class="nt">&quot;meta&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;includeId&quot;</span><span class="p">:</span> <span class="s2">&quot;79&quot;</span>
      <span class="p">},</span>
      <span class="nt">&quot;attributes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;primaryEmail&quot;</span><span class="p">:</span> <span class="s2">&quot;john_doe@example.com&quot;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This request does the following:</p>
<ol class="arabic simple">
<li>Changes the account name to &#8216;Cloth World Market&#8217;.</li>
<li>Sets the primary email for the contact with identifier &#8216;79&#8217; and makes it the default contact.</li>
</ol>
</div>
<div class="section" id="data-api-client-requirements">
<h3><a class="toc-backref" href="#id49">Data API Client Requirements</a><a class="headerlink" href="#data-api-client-requirements" title="Permalink to this headline">¶</a></h3>
<p>The only requirement for the client that will send API requests to the server is that it <strong>must</strong> have the <strong>Content-Type</strong> header that looks like: <code class="docutils literal"><span class="pre">Content-Type:</span> <span class="pre">application/vnd.api+json</span></code>.
<strong>Content-Type</strong> must not contain any media type parameters.</p>
<div class="section" id="example-valid-content-type">
<h4><a class="toc-backref" href="#id50">Example. Valid <strong>Content-Type</strong></a><a class="headerlink" href="#example-valid-content-type" title="Permalink to this headline">¶</a></h4>
<div class="highlight-http"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/api/users</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/vnd.api+json</span>
</pre></div>
</div>
<p>At the same time, it <strong>must</strong> ignore any media type parameters received in the <strong>Content-Type</strong> header of the response.</p>
</div>
<div class="section" id="example-ignore-media-type-in-response">
<h4><a class="toc-backref" href="#id51">Example. Ignore Media Type in Response</a><a class="headerlink" href="#example-ignore-media-type-in-response" title="Permalink to this headline">¶</a></h4>
<p><strong>Request</strong></p>
<div class="highlight-http"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/api/users</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">localhost.com</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/vnd.api+json</span>
</pre></div>
</div>
<p><strong>Response</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span><span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;accounts&quot;</span><span class="p">,</span>
    <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
    <span class="nt">&quot;attributes&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Life Plan Counseling&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="nt">&quot;relationships&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">]}</span>
</pre></div>
</div>
<p>Requests with the invalid <strong>Content-Type</strong> value in the header will be perceived as a plain request, so the response data
will a plain format rather than JSON API.</p>
</div>
<div class="section" id="example-invalid-content-type">
<h4><a class="toc-backref" href="#id52">Example. Invalid <strong>Content-Type</strong></a><a class="headerlink" href="#example-invalid-content-type" title="Permalink to this headline">¶</a></h4>
<p><strong>Request</strong></p>
<div class="highlight-http"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/api/users</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">localhost.com</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
</pre></div>
</div>
<p><strong>Response</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">[</span>
  <span class="p">{</span>
    <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Life Plan Counseling&quot;</span><span class="p">,</span>
    <span class="nt">&quot;contacts&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="mi">1</span>
    <span class="p">]</span>
  <span class="p">},</span>
<span class="p">]</span>
</pre></div>
</div>
<p>For more information about the API client requirements, see the <a class="reference external" href="http://jsonapi.org/format/#content-negotiation-clients">JSON Specification</a>.</p>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="../../index.html">Table Of Contents</a></h3>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/dev_guide/integration/index.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../index.html">Developer Guide</a><ul>
      <li>Previous: <a href="../extend_and_customize/how_to_replace_inline-javascript_with_component.html" title="previous chapter">How to Replace Inline-Javascript with a Component</a></li>
      <li>Next: <a href="../theme/index.html" title="next chapter">Customizing the Theme</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Oro Team.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.5.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.9</a>
      
      |
      <a href="../../_sources/dev_guide/integration/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>