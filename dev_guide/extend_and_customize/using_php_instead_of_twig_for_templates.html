<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Using PHP Instead of Twig for Templates &#8212; OroCommerce 1.0 documentation</title>
    
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="How to Create New Bundle" href="how_to_create_new_bundle.html" />
    <link rel="prev" title="Customizing Data Grid" href="customizing_data_grid_in_orocommerce.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="using-php-instead-of-twig-for-templates">
<h1>Using PHP Instead of Twig for Templates<a class="headerlink" href="#using-php-instead-of-twig-for-templates" title="Permalink to this headline">¶</a></h1>
<p>Symfony, the underlying framework used in OroCommerce, defaults to Twig for its template engine, but you can still use plain PHP templates if necessary. Symfony provides equally good support of both templating engines.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It is recommended to use Twig in OroCommerce, like in the default theme in OroCommerce, to better express presentation and to avoid putting any application logics in the templates.</p>
</div>
<p>If you preference is PHP templates, this article describes how to enable and use PHP templates with OroLayout bundle in the applications built on OroPlatform.</p>
<p><strong>Note</strong>: The Symfony framework documentation contains additional useful information about PHP templates and form rendering customization:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="http://symfony.com/doc/current/templating/PHP.html">How to Use PHP instead of Twig for Templates</a></li>
<li><a class="reference external" href="http://symfony.com/doc/current/form/form_customization.html">How to Customize Form Rendering</a></li>
</ul>
</div></blockquote>
<div class="section" id="configure-orolayoutbundle">
<h2>Configure OroLayoutBundle<a class="headerlink" href="#configure-orolayoutbundle" title="Permalink to this headline">¶</a></h2>
<p>Only one templating engine can be used at a time in an OroPlatform application. By default, OroLayoutBundle is configured to use Twig. If you decide to use PHP templates, you should disable Twig and make PHP templating the default templating engine in the application configuration file:</p>
<div class="highlight-yaml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">oro_layout</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">templating</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">php</span>
        <span class="l l-Scalar l-Scalar-Plain">twig</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">enabled</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="modify-layouts-to-use-php-templates">
<h2>Modify Layouts to Use PHP Templates<a class="headerlink" href="#modify-layouts-to-use-php-templates" title="Permalink to this headline">¶</a></h2>
<p>The default “base” OroPlatform theme uses Twig templates. You should choose a different approach in your default.yml file in your theme’s folder:</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">#MyBundle/Resources/views/layouts/first_theme/default.yml</span><a class="headerlink" href="#id1" title="Permalink to this code">¶</a></div>
<div class="highlight-xml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29</pre></div></td><td class="code"><div class="highlight"><pre><span></span>layout:
    actions:
        - @setBlockTheme:
            themes: &#39;MyBundle:layouts/first_theme/php&#39;
        - @addTree:
            items:
                head:
                    blockType: head
                meta:
                    blockType: meta
                    options:
                        http_equiv: Content-Type
                        content: &quot;text/html; charset=utf-8&quot;
                body:
                    blockType: body
                content:
                    blockType: container
                    options:
                        attr:
                            class: content
                greeting:
                    blockType: block
            tree:
                root:
                    head:
                        meta: ~
                    body:
                        content:
                            greeting: ~
</pre></div>
</td></tr></table></div>
</div>
<p>The example above creates a standard web page structure (head, metadata, and body) with two custom blocks in the body (content and greeting). And in this layout, we specified a different “block theme” (so that the templating engine will know where to find our PHP templates):</p>
<div class="highlight-xml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span>actions:
    - @setBlockTheme:
        themes: &#39;MyBundle:layouts/first_theme/php&#39;
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="creating-templates">
<h2>Creating Templates<a class="headerlink" href="#creating-templates" title="Permalink to this headline">¶</a></h2>
<p>As you are not using Twig anymore, you should provide the PHP templates for the blocks used in the layout.</p>
<p>The PHP templates can be very simple, like in the following example of the greeting block template where we just want to display “Hello!”:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">#MyBundle/Resources/views/layouts/first_theme/php/_greeting_widget.html.php</span>
<span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">Hello</span><span class="o">!&lt;/</span><span class="nx">p</span><span class="o">&gt;</span>
</pre></div>
</td></tr></table></div>
<p>You can also create more complex templates that use variables and functions provided by the layout. This is an example of the content block template:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">#MyBundle/Resources/views/layouts/first_theme/php/_content_widget.html.php</span>
<span class="o">&lt;</span><span class="nx">div</span> <span class="o">&lt;?</span><span class="nx">php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;layout&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">block</span><span class="p">(</span><span class="nv">$block</span><span class="p">,</span> <span class="s1">&#39;block_attributes&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x">&gt;</span>
<span class="x">    &lt;h1&gt;Welcome back&lt;/h1&gt;</span>
<span class="x">    </span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;layout&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">widget</span><span class="p">(</span><span class="nv">$block</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;/div&gt;</span>
</pre></div>
</td></tr></table></div>
<p>The layout and templates from our examples will produce the following HTML output:</p>
<div class="highlight-xml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;head</span> <span class="na">class=</span><span class="s">&quot;foo&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;meta</span> <span class="na">http_equiv=</span><span class="s">&quot;Content-Type&quot;</span> <span class="na">content=</span><span class="s">&quot;text/html; charset=utf-8&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;content&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;h1&gt;</span>Welcome back<span class="nt">&lt;/h1&gt;</span>
            <span class="nt">&lt;p&gt;</span>Hello!<span class="nt">&lt;/p&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</td></tr></table></div>
<p>A number of fully working PHP templates for various block types are already included in OroLayoutBundle – check the src/Oro/Bundle/LayoutBundle/Resources/views/Layout/php folder to see all the examples.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="../../index.html">Table Of Contents</a></h3>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/dev_guide/extend_and_customize/using_php_instead_of_twig_for_templates.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../index.html">Developer Guide</a><ul>
  <li><a href="index.html">Customizing Oro Features</a><ul>
      <li>Previous: <a href="customizing_data_grid_in_orocommerce.html" title="previous chapter">Customizing Data Grid</a></li>
      <li>Next: <a href="how_to_create_new_bundle.html" title="next chapter">How to Create New Bundle</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Oro Team.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.5.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.9</a>
      
      |
      <a href="../../_sources/dev_guide/extend_and_customize/using_php_instead_of_twig_for_templates.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>