<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>How to Create New Bundle &#8212; OroCommerce 1.0 documentation</title>
    
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="How to Extend Existing Bundle" href="how_to_extend_existing_bundle.html" />
    <link rel="prev" title="Using PHP Instead of Twig for Templates" href="using_php_instead_of_twig_for_templates.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="how-to-create-new-bundle">
<span id="index-0"></span><span id="id1"></span><h1>How to Create New Bundle<a class="headerlink" href="#how-to-create-new-bundle" title="Permalink to this headline">¶</a></h1>
<p><em>Used application: OroPlatform 1.7</em></p>
<p>New bundle can be created either manually, or automatically using standard Symfony console command.</p>
<div class="section" id="create-bundle-manually">
<h2>Create Bundle Manually<a class="headerlink" href="#create-bundle-manually" title="Permalink to this headline">¶</a></h2>
<p>First you need to specify name and namespace of your bundle. Symfony framework already has
<a class="reference external" href="http://symfony.com/doc/2.3/cookbook/bundles/best_practices.html#bundle-name">best practices for bundle structure and bundle name</a> and we recommend to follow these practices and use them.</p>
<p>Let&#8217;s assume that we want to create the AcmeNewBundle and put it under the namespace <code class="docutils literal"><span class="pre">Acme\Bundle\NewBundle</span></code>
in the <code class="docutils literal"><span class="pre">/src</span></code> directory. We need to create the corresponding directory structure and the bundle file with the following content:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>
<span class="c1">// src/Acme/Bundle/NewBundle/AcmeNewBundle.php</span>
<span class="k">namespace</span> <span class="nx">Acme\Bundle\NewBundle</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Symfony\Component\HttpKernel\Bundle\Bundle</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">AcmeNewBundle</span> <span class="k">extends</span> <span class="nx">Bundle</span>
<span class="p">{</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>Basically, it&#8217;s a regular Symfony bundle. The only difference is in the way it will be enabled
(see chapter <a class="reference internal" href="#enable-bundle">Enable bundle</a>).</p>
</div>
<div class="section" id="create-bundle-automatically">
<h2>Create bundle automatically<a class="headerlink" href="#create-bundle-automatically" title="Permalink to this headline">¶</a></h2>
<p>Also new bundle can be generated using <a class="reference external" href="http://symfony.com/doc/2.4/bundles/SensioGeneratorBundle/commands/generate_bundle.html">Symfony command generate:bundle</a>:</p>
<div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span>user@host:/var/www/vhosts/platform-application$ php app/console generate:bundle
Bundle namespace: Acme/Bundle/NewBundle
Bundle name <span class="o">[</span>AcmeNewBundle<span class="o">]</span>:
Target directory <span class="o">[</span>/var/www/vhosts/platform-application/src<span class="o">]</span>:
Configuration format <span class="o">(</span>yml, xml, php, or annotation<span class="o">)</span>: yml
Do you want to generate the whole directory structure <span class="o">[</span>no<span class="o">]</span>?
Do you confirm generation <span class="o">[</span>yes<span class="o">]</span>?

Generating the bundle code: OK
Checking that the bundle is autoloaded: OK

Confirm automatic update of your Kernel <span class="o">[</span>yes<span class="o">]</span>? no
Enabling the bundle inside the Kernel: FAILED
Confirm automatic update of the Routing <span class="o">[</span>yes<span class="o">]</span>? no
Importing the bundle routing resource: FAILED
</pre></div>
</td></tr></table></div>
<p>It is important that you don&#8217;t need to update Kernel and routing, as OroPlatform provides its own way to do that,
which will be described in the <a class="reference internal" href="#enable-bundle">Enable bundle</a> chapter and in following articles.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Automatic bundle generation is provided by the <code class="docutils literal"><span class="pre">sensio/generator-bundle</span></code> package, which is defined in the
<code class="docutils literal"><span class="pre">require-dev</span></code> section of the <code class="docutils literal"><span class="pre">composer.json</span></code> file in the OroPlatform repository. Therefore, in order to use
automatic generation, please, make sure that this package has been installed (one of the ways to do so is to execute
<code class="docutils literal"><span class="pre">composer</span> <span class="pre">update</span></code> at the project&#8217;s root directory to get all packages from the <code class="docutils literal"><span class="pre">require-dev</span></code> section).</p>
</div>
</div>
<div class="section" id="enable-bundle">
<h2>Enable bundle<a class="headerlink" href="#enable-bundle" title="Permalink to this headline">¶</a></h2>
<p>Now you have all required files to enable your new bundle. To do that you have to:</p>
<ol class="arabic">
<li><p class="first">create file with name Resources/config/oro/bundles.yml with the following
content:</p>
<div class="highlight-yaml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># src/Acme/Bundle/NewBundle/Resources/config/oro/bundles.yml</span>
<span class="l l-Scalar l-Scalar-Plain">bundles</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">Acme\Bundle\NewBundle\AcmeNewBundle</span>
</pre></div>
</td></tr></table></div>
<p>This file provides list of bundles to register - all such files will be
automatically parsed to load required bundles.</p>
</li>
<li><p class="first">regenerate application cache using console command cache:clear:</p>
<div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span>user@host:/var/www/vhosts/platform-application$ php app/console cache:clear
Clearing the cache <span class="k">for</span> the dev environment with debug <span class="nb">true</span>
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you are working in production environment you have to add parameter
&#8211;env=prod.</p>
</div>
</li>
</ol>
<p>Now you can go to frontend in development mode (use the link http://&lt;oro-application-base-url&gt;/app_dev.php/) and click on
<a class="reference external" href="http://symfony.com/doc/current/book/internals.html#profiler">Symfony profiler</a> config icon:</p>
<img alt="../../_images/dashboard.png" src="../../_images/dashboard.png" />
<p>Here you can find your new bundle in the list of active bundles:</p>
<img alt="../../_images/profiler.png" src="../../_images/profiler.png" />
<p>That&#8217;s all - your bundle is registered and active!</p>
</div>
<div class="section" id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="http://symfony.com/doc/2.3/cookbook/bundles/best_practices.html">Symfony Best Practices for Structuring Bundles</a></li>
<li><a class="reference external" href="http://symfony.com/doc/2.3/bundles/SensioGeneratorBundle/commands/generate_bundle.html">Generating a New Bundle Skeleton</a></li>
<li><a class="reference external" href="http://symfony.com/doc/2.3/reference/events.html">Symfony Framework Events</a></li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="../../index.html">Table Of Contents</a></h3>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/dev_guide/extend_and_customize/how_to_create_new_bundle.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../index.html">Developer Guide</a><ul>
  <li><a href="index.html">Customizing Oro Features</a><ul>
      <li>Previous: <a href="using_php_instead_of_twig_for_templates.html" title="previous chapter">Using PHP Instead of Twig for Templates</a></li>
      <li>Next: <a href="how_to_extend_existing_bundle.html" title="next chapter">How to Extend Existing Bundle</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Oro Team.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.5.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.9</a>
      
      |
      <a href="../../_sources/dev_guide/extend_and_customize/how_to_create_new_bundle.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>